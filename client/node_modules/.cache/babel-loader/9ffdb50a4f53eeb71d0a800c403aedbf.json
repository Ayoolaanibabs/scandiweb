{"ast":null,"code":"import React,{useEffect}from'react';import{useNavigate}from'react-router-dom';import{useSelector,useDispatch}from'react-redux';import Footer from'../components/Footer';import{reset,getAllProduct,deleteProduct}from'../features/product/productSlice';import{PRODUCT_TYPES,ROUTES}from'../utilities/constants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ProductListPage=function ProductListPage(){var navigate=useNavigate();var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.product;}),products=_useSelector.products,isError=_useSelector.isError,message=_useSelector.message;var massDelete=function massDelete(){var x=document.getElementsByClassName('delete-checkbox');var arr=[];for(var i=0;i<x.length;i++){if(x[i].checked){arr.push(x[i].id);}}dispatch(deleteProduct(arr));};useEffect(function(){if(isError){console.log(message);}dispatch(getAllProduct());return function(){dispatch(reset());};},[navigate,isError,message,dispatch]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"heading\",children:\"Product List\"}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'15px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return navigate(ROUTES.ADD_PRODUCT);},children:\"ADD\"}),/*#__PURE__*/_jsx(\"button\",{id:\"delete-product-btn\",onClick:massDelete,children:\"MASS DELETE\"})]})]}),/*#__PURE__*/_jsx(\"hr\",{}),products.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"grid\",children:products.map(function(product,index){return/*#__PURE__*/_jsx(\"div\",{className:\"box\",children:/*#__PURE__*/_jsxs(\"label\",{htmlFor:product.id,children:[/*#__PURE__*/_jsx(\"input\",{className:\"delete-checkbox\",type:\"checkbox\",id:product.id,name:product.name,value:product.id}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"box-text\",children:[/*#__PURE__*/_jsx(\"p\",{children:product.sku&&product.sku}),/*#__PURE__*/_jsx(\"p\",{children:product.name&&product.name}),/*#__PURE__*/_jsxs(\"p\",{children:[(product.price|0).toFixed(2),\"$\"]}),product.type===PRODUCT_TYPES.BOOK&&product.weight&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Weight: \",product.weight,\" KG\"]}),product.type===PRODUCT_TYPES.DVD&&product.size&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Size: \",product.size,\" MB\"]}),product.type===PRODUCT_TYPES.FURNITURE&&product.height&&product.width&&product.length&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Dimension: \",product.height,\" x \",product.width,\" x\",' ',product.length]})]})]})},index);})}):/*#__PURE__*/_jsx(\"div\",{children:\"No Product Availabe kindly Add Products\"})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default ProductListPage;","map":{"version":3,"names":["React","useEffect","useNavigate","useSelector","useDispatch","Footer","reset","getAllProduct","deleteProduct","PRODUCT_TYPES","ROUTES","ProductListPage","navigate","dispatch","state","product","products","isError","message","massDelete","x","document","getElementsByClassName","arr","i","length","checked","push","id","console","log","padding","ADD_PRODUCT","map","index","name","sku","price","toFixed","type","BOOK","weight","DVD","size","FURNITURE","height","width"],"sources":["/Users/ayoolaanibaba/Desktop/scandiweb/src/pages/ProductListPage.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Footer from '../components/Footer';\nimport {\n  reset,\n  getAllProduct,\n  deleteProduct,\n} from '../features/product/productSlice';\nimport { PRODUCT_TYPES, ROUTES } from '../utilities/constants';\n\nconst ProductListPage = () => {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n\n  const { products, isError, message } = useSelector((state) => state.product);\n  const massDelete = () => {\n    var x = document.getElementsByClassName('delete-checkbox');\n    const arr = [];\n    for (let i = 0; i < x.length; i++) {\n      if (x[i].checked) {\n        arr.push(x[i].id);\n      }\n    }\n    dispatch(deleteProduct(arr));\n  };\n  useEffect(() => {\n    if (isError) {\n      console.log(message);\n    }\n    dispatch(getAllProduct());\n    return () => {\n      dispatch(reset());\n    };\n  }, [navigate, isError, message, dispatch]);\n\n  return (\n    <>\n      <div className=\"container\">\n        <header>\n          <div className=\"heading\">Product List</div>\n          <div style={{ padding: '15px' }}>\n            <button onClick={() => navigate(ROUTES.ADD_PRODUCT)}>ADD</button>\n            <button id=\"delete-product-btn\" onClick={massDelete}>\n              MASS DELETE\n            </button>\n          </div>\n        </header>\n        <hr />\n        {products.length > 0 ? (\n          <div className=\"grid\">\n            {products.map((product, index) => (\n              <div className=\"box\" key={index}>\n                <label htmlFor={product.id}>\n                  <input\n                    className=\"delete-checkbox\"\n                    type=\"checkbox\"\n                    id={product.id}\n                    name={product.name}\n                    value={product.id}\n                  />\n                  <br />\n                  <div className=\"box-text\">\n                    <p>{product.sku && product.sku}</p>\n                    <p>{product.name && product.name}</p>\n                    <p>{(product.price | 0).toFixed(2)}$</p>\n                    {product.type === PRODUCT_TYPES.BOOK && product.weight && (\n                      <p>Weight: {product.weight} KG</p>\n                    )}\n                    {product.type === PRODUCT_TYPES.DVD && product.size && (\n                      <p>Size: {product.size} MB</p>\n                    )}\n                    {product.type === PRODUCT_TYPES.FURNITURE &&\n                      product.height &&\n                      product.width &&\n                      product.length && (\n                        <p>\n                          Dimension: {product.height} x {product.width} x{' '}\n                          {product.length}\n                        </p>\n                      )}\n                  </div>\n                </label>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <div>No Product Availabe kindly Add Products</div>\n        )}\n      </div>\n      <Footer />\n    </>\n  );\n};\n\nexport default ProductListPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}