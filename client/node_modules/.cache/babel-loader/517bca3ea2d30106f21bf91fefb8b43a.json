{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ayoolaanibaba/Desktop/scandiweb/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"/Users/ayoolaanibaba/Desktop/scandiweb/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/Users/ayoolaanibaba/Desktop/scandiweb/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/ayoolaanibaba/Desktop/scandiweb/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import{useSelector,useDispatch}from'react-redux';import Spinner from'../components/Spinner';import Footer from'../components/Footer';import{reset,getAllProduct,deleteProduct}from'../features/product/productSlice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ProductListPage=function ProductListPage(){var navigate=useNavigate();var dispatch=useDispatch();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),productList=_useState2[0],setProductList=_useState2[1];var _useSelector=useSelector(function(state){return state.product;}),products=_useSelector.products,isLoading=_useSelector.isLoading,isError=_useSelector.isError,message=_useSelector.message;var onChange=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var productInfo;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:productInfo={name:'44',type:'DVD',SKU:'44',price:44,size:44};_context.next=3;return fetch('https://ayoola123.000webhostapp.com/product',{method:'POST',// *GET, POST, PUT, DELETE, etc.\n// mode: 'cors', // no-cors, *cors, same-origin\n// cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n// credentials: 'same-origin', // include, *same-origin, omit\n// headers: {\n//   'Content-Type': 'application/json'\n//   // 'Content-Type': 'application/x-www-form-urlencoded',\n// },\n// redirect: 'follow', // manual, *follow, error\n// referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\nbody:JSON.stringify(productInfo)// body data type must match \"Content-Type\" header\n});case 3:setProductList(function(prev){return[].concat(_toConsumableArray(prev),[parseInt(e.target.value)]);});case 4:case\"end\":return _context.stop();}}},_callee);}));return function onChange(_x){return _ref.apply(this,arguments);};}();useEffect(function(){if(isError){console.log(message);}dispatch(getAllProduct());return function(){dispatch(reset());};},[navigate,isError,message,dispatch]);// if (isLoading) {\n//   return <Spinner />;\n// }\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"heading\",children:\"Product List\"}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'15px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return navigate('/add-product');},children:\"ADD\"}),/*#__PURE__*/_jsx(\"button\",{id:\"delete-product-btn\",onClick:function onClick(){dispatch(deleteProduct(productList));// reset();\n// function myCallBack(el) {\n//   return productList.indexOf(el.id) < 0;\n// }\n// products = products.filter(myCallBack)\n// dispatch(getAllProduct());\nsetTimeout(function(){dispatch(getAllProduct());},20);},children:\"MASS DELETE\"})]})]}),/*#__PURE__*/_jsx(\"hr\",{}),products.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"grid\",children:products.map(function(product,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"box\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"delete-checkbox\",type:\"checkbox\",id:product.id,name:product.name,value:product.id,onChecked:function onChecked(e){return onChange(e);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:product.id,children:/*#__PURE__*/_jsxs(\"div\",{className:\"box-text\",children:[/*#__PURE__*/_jsx(\"p\",{children:product.sku}),/*#__PURE__*/_jsx(\"p\",{children:product.name}),/*#__PURE__*/_jsxs(\"p\",{children:[product.price,\"$\"]}),product.type==='Book'&&product.weight&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Size: \",product.weight,\" KG\"]}),product.type==='DVD'&&product.size&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Weight: \",product.size,\" MB\"]}),product.type==='Furniture'&&product.height&&product.width&&product.length&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Dimension: \",product.height,\" x \",product.width,\" x\",' ',product.length]})]})})]},index);})}):/*#__PURE__*/_jsx(\"div\",{children:\"No Product Availabe kindly Add Products\"})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default ProductListPage;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useSelector","useDispatch","Spinner","Footer","reset","getAllProduct","deleteProduct","ProductListPage","navigate","dispatch","productList","setProductList","state","product","products","isLoading","isError","message","onChange","e","productInfo","name","type","SKU","price","size","fetch","method","body","JSON","stringify","prev","parseInt","target","value","console","log","padding","setTimeout","length","map","index","id","sku","weight","height","width"],"sources":["/Users/ayoolaanibaba/Desktop/scandiweb/src/pages/ProductListPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Spinner from '../components/Spinner';\nimport Footer from '../components/Footer';\nimport {\n  reset,\n  getAllProduct,\n  deleteProduct,\n} from '../features/product/productSlice';\n\nconst ProductListPage = () => {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const [productList, setProductList] = useState([]);\n  const { products, isLoading, isError, message } = useSelector(\n    (state) => state.product\n  );\n  const onChange = async (e) => {\n    const productInfo = {\n      name: '44',\n      type: 'DVD',\n      SKU: '44',\n      price: 44,\n      size: 44,\n    }\n    await fetch('https://ayoola123.000webhostapp.com/product', {\n      method: 'POST', // *GET, POST, PUT, DELETE, etc.\n      // mode: 'cors', // no-cors, *cors, same-origin\n      // cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n      // credentials: 'same-origin', // include, *same-origin, omit\n      // headers: {\n      //   'Content-Type': 'application/json'\n      //   // 'Content-Type': 'application/x-www-form-urlencoded',\n      // },\n      // redirect: 'follow', // manual, *follow, error\n      // referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\n      body: JSON.stringify(productInfo) // body data type must match \"Content-Type\" header\n    });\n    setProductList((prev) => [...prev, parseInt(e.target.value)]);\n  };\n  useEffect(() => {\n    if (isError) {\n      console.log(message);\n    }\n    dispatch(getAllProduct());\n    return () => {\n      dispatch(reset());\n    };\n  }, [navigate, isError, message, dispatch]);\n\n  // if (isLoading) {\n  //   return <Spinner />;\n  // }\n  return (\n    <>\n      <div className=\"container\">\n        <header>\n          <div className=\"heading\">Product List</div>\n          <div style={{ padding: '15px' }}>\n            <button onClick={() => navigate('/add-product')}>ADD</button>\n            <button\n              id=\"delete-product-btn\"\n              onClick={() => {\n                dispatch(deleteProduct(productList));\n                // reset();\n                // function myCallBack(el) {\n                //   return productList.indexOf(el.id) < 0;\n                // }\n                // products = products.filter(myCallBack)\n                // dispatch(getAllProduct());\n                setTimeout(() => {\n                  dispatch(getAllProduct());\n                }, 20);\n              }}\n            >\n              MASS DELETE\n            </button>\n          </div>\n        </header>\n        <hr />\n        {products.length > 0 ? (\n          <div className=\"grid\">\n            {products.map((product, index) => (\n              <div className=\"box\" key={index}>\n                <input\n                  className=\"delete-checkbox\"\n                  type=\"checkbox\"\n                  id={product.id}\n                  name={product.name}\n                  value={product.id}\n                  onChecked={(e) => onChange(e)}\n                />\n                <br />\n                <label htmlFor={product.id}>\n                  <div className=\"box-text\">\n                    <p>{product.sku}</p>\n                    <p>{product.name}</p>\n                    <p>{product.price}$</p>\n                    {product.type === 'Book' && product.weight && (\n                      <p>Size: {product.weight} KG</p>\n                    )}\n                    {product.type === 'DVD' && product.size && (\n                      <p>Weight: {product.size} MB</p>\n                    )}\n                    {product.type === 'Furniture' &&\n                      product.height &&\n                      product.width &&\n                      product.length && (\n                        <p>\n                          Dimension: {product.height} x {product.width} x{' '}\n                          {product.length}\n                        </p>\n                      )}\n                  </div>\n                </label>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <div>No Product Availabe kindly Add Products</div>\n        )}\n      </div>\n      <Footer />\n    </>\n  );\n};\n\nexport default ProductListPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}